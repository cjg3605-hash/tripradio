// 🏛️ 완전 자율형 박물관 가이드 생성 시스템
// 사용자는 박물관명만 제공 → AI가 모든 정보를 조사하고 완벽한 가이드 생성

import { UserProfile } from '@/types/guide';

/**
 * 🤖 완전 자율형 박물관 가이드 마스터 프롬프트
 * 
 * 사용자가 박물관명만 제공하면:
 * 1. AI가 자율적으로 박물관 정보 조사
 * 2. 전시관 구조와 층별 배치 파악
 * 3. 주요 작품/유물 조사 및 선별
 * 4. 전시관별 체계적 가이드 생성
 * 5. 큐레이터 수준의 자연스러운 해설
 */

export function createAutonomousMuseumGuidePrompt(
  museumName: string,
  userProfile?: UserProfile
): string {
  
  const complexityLevel = userProfile?.knowledgeLevel === '고급' ? 'advanced' : 
                         userProfile?.knowledgeLevel === '초급' ? 'basic' : 'intermediate';
  
  return `# 🏛️ 완전 자율형 박물관 전문가 가이드 시스템

## 🎯 당신의 임무
사용자가 "${museumName}"라는 박물관명만 제공했습니다. 
당신은 이제부터 세계 최고 수준의 박물관 전문가로서 다음을 **완전 자율적으로** 수행해야 합니다:

### 1단계: 박물관 완전 조사 및 분석
**🔍 기본 정보 조사**
- 박물관 정확한 명칭, 위치, 설립연도, 규모
- 주요 소장품 분야와 특징
- 박물관의 학술적 지위와 국제적 평가
- 건축 특징과 전시 공간 구성

**🏢 전시관 구조 완전 파악**
- 층별 전시관 배치도 정확히 조사
- 각 층별 테마와 전시 내용
- 각 전시관의 정확한 명칭과 주제
- 관람 동선과 소요시간
- 전시관별 대표 작품/유물 리스트

### 2단계: 전시관별 완벽한 가이드 생성

각 전시관마다 다음 구조로 작성:

**전시관 소개 및 배경**
전시관명과 주제를 소개하고 역사적 배경을 설명합니다.

**주요 작품/유물 상세 해설**
전시관 내 핵심 작품 3-5점을 선별하여 상세히 해설합니다.
- 작품의 기본 정보 (크기, 재료, 제작연도)
- 역사적 배경과 제작 맥락
- 재료와 기법의 과학적 분석
- 문화사적 의미와 가치
- 최신 연구 성과

**전시관 마무리 및 연결**
전시관의 핵심 메시지를 요약하고 다음 전시관으로 자연스럽게 연결합니다.

## 📋 출력 형식
JSON 형식으로 다음과 같이 출력해주세요:

{
  "museumInfo": {
    "name": "박물관 정식 명칭",
    "location": "정확한 주소",
    "description": "박물관 개관 설명"
  },
  "chapters": [
    {
      "title": "전시관명",
      "floor": "층수",
      "content": "전체 가이드 텍스트 (2000-2500자)",
      "highlights": ["주요 작품1", "주요 작품2", "주요 작품3"],
      "visitTime": "예상 관람 시간"
    }
  ]
}

복잡도 수준: ${complexityLevel}
사용자 관심사: ${userProfile?.interests?.join(', ') || '일반적인 관심사'}

이제 "${museumName}"에 대한 완벽한 가이드를 생성해주세요.`;
}