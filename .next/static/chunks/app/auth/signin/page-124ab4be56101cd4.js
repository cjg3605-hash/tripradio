(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{4393:function(e,s,t){Promise.resolve().then(t.bind(t,3))},3:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var r=t(7437),a=t(2265),l=t(605),i=t(9376),n=t(7648);function d(){let[e,s]=(0,a.useState)(!1),[t,d]=(0,a.useState)("signin"),[c,o]=(0,a.useState)({email:"",password:"",confirmPassword:""}),[x,m]=(0,a.useState)({}),u=(0,i.useRouter)(),g=(0,i.useSearchParams)(),h=g.get("callbackUrl")||"/",p=g.get("error"),f=async()=>{s(!0);try{let e=await (0,l.signIn)("google",{callbackUrl:h,redirect:!1});(null==e?void 0:e.ok)?await (0,l.getSession)()&&u.push(h):(null==e?void 0:e.error)&&m({general:"구글 로그인에 실패했습니다. 다시 시도해주세요."})}catch(e){m({general:"로그인 처리 중 오류가 발생했습니다."})}finally{s(!1)}},b=async e=>{e.preventDefault(),m({}),s(!0);try{if("magic"===t){let e=await (0,l.signIn)("email",{email:c.email,redirect:!1});(null==e?void 0:e.ok)?m({success:"".concat(c.email,"로 로그인 링크를 전송했습니다. 이메일을 확인해주세요.")}):m({email:"이메일 전송에 실패했습니다."})}else{if("signup"===t&&c.password!==c.confirmPassword){m({confirmPassword:"비밀번호가 일치하지 않습니다."});return}if(c.password.length<6){m({password:"비밀번호는 최소 6자리 이상이어야 합니다."});return}let e=await (0,l.signIn)("credentials",{email:c.email,password:c.password,action:t,redirect:!1});(null==e?void 0:e.ok)?await (0,l.getSession)()&&u.push(h):m({general:(null==e?void 0:e.error)||"인증에 실패했습니다."})}}catch(e){m({general:"인증 처리 중 오류가 발생했습니다."})}finally{s(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-indigo-50 to-white flex items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(n.default,{href:"/",className:"inline-block",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-0 mb-6",children:[(0,r.jsx)("img",{src:"/NAVI.png",alt:"NAVI 로고",width:"56",height:"56",className:"object-contain -mr-1",style:{filter:"hue-rotate(-20deg) saturate(1.1) brightness(0.9)"}}),(0,r.jsxs)("h1",{className:"text-3xl font-bold",children:[(0,r.jsx)("span",{className:"text-indigo-600",children:"N"}),(0,r.jsx)("span",{className:"text-indigo-600 text-transparent bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text font-extrabold",style:{textShadow:"0 1px 3px rgba(0,0,0,0.3)",filter:"drop-shadow(0 1px 2px rgba(139, 92, 246, 0.3))"},children:"A"}),(0,r.jsx)("span",{className:"text-indigo-600",children:"V"}),(0,r.jsx)("span",{className:"text-indigo-600 text-transparent bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text font-extrabold",style:{textShadow:"0 1px 3px rgba(0,0,0,0.3)",filter:"drop-shadow(0 1px 2px rgba(139, 92, 246, 0.3))"},children:"I"}),(0,r.jsx)("span",{className:"text-gray-400",children:"-"}),(0,r.jsx)("span",{className:"text-indigo-600",children:"GUIDE"})]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"signup"===t?"회원가입":"로그인"}),(0,r.jsx)("p",{className:"text-gray-600",children:"AI가 만드는 개인 맞춤 가이드를 경험해보세요"})]}),(p||x.general||x.success)&&(0,r.jsx)("div",{className:"rounded-lg p-4 ".concat(x.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 ".concat(x.success?"text-green-400":"text-red-400"),fill:"currentColor",viewBox:"0 0 20 20",children:x.success?(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}):(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("div",{className:"text-sm ".concat(x.success?"text-green-700":"text-red-700"),children:(0,r.jsx)("p",{children:x.success||x.general||(e=>{switch(e){case"OAuthSignin":return"소셜 로그인 중 오류가 발생했습니다. 다시 시도해주세요.";case"OAuthCallback":return"로그인 콜백 처리 중 오류가 발생했습니다.";case"OAuthCreateAccount":return"계정 생성 중 오류가 발생했습니다. 다시 시도해주세요.";case"EmailCreateAccount":return"이메일 계정 생성 중 오류가 발생했습니다.";case"Callback":return"로그인 처리 중 오류가 발생했습니다.";case"AccessDenied":return"로그인이 거부되었습니다. 다시 시도해주세요.";default:return"알 수 없는 오류가 발생했습니다. 잠시 후 다시 시도해주세요."}})(p||"")})})})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,r.jsxs)("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>d("signin"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("signin"===t?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"로그인"}),(0,r.jsx)("button",{type:"button",onClick:()=>d("signup"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("signup"===t?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"회원가입"}),(0,r.jsx)("button",{type:"button",onClick:()=>d("magic"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("magic"===t?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"매직링크"})]}),(0,r.jsxs)("button",{onClick:f,disabled:e,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:[e?(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):(0,r.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,r.jsxs)("span",{className:"text-gray-700 font-medium",children:["Google로 ","signup"===t?"회원가입":"로그인"]})]}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"또는"})})]}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),(0,r.jsx)("input",{id:"email",type:"email",value:c.email,onChange:e=>o({...c,email:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat(x.email?"border-red-300":"border-gray-300"),placeholder:"이메일을 입력하세요",required:!0}),x.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),"magic"!==t&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호"}),(0,r.jsx)("input",{id:"password",type:"password",value:c.password,onChange:e=>o({...c,password:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat(x.password?"border-red-300":"border-gray-300"),placeholder:"비밀번호를 입력하세요",required:!0}),x.password&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.password})]}),"signup"===t&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호 확인"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",value:c.confirmPassword,onChange:e=>o({...c,confirmPassword:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat(x.confirmPassword?"border-red-300":"border-gray-300"),placeholder:"비밀번호를 다시 입력하세요",required:!0}),x.confirmPassword&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.confirmPassword})]}),(0,r.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"처리중..."]}):(0,r.jsx)(r.Fragment,{children:"magic"===t?"로그인 링크 전송":"signup"===t?"회원가입":"로그인"})})]}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"magic"===t?"매직링크란?":"로그인하면 이용할 수 있는 기능:"}),"magic"===t?(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"이메일로 로그인 링크를 전송해드립니다. 비밀번호 없이 안전하게 로그인할 수 있어요."}):(0,r.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"개인 맞춤 가이드 생성"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"가이드 히스토리 저장 (30일)"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"선호도 기반 추천"]})]})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["계속 진행하시면 NAVI의"," ",(0,r.jsx)(n.default,{href:"/terms",className:"text-indigo-600 hover:text-indigo-500",children:"서비스 약관"})," ","및"," ",(0,r.jsx)(n.default,{href:"/privacy",className:"text-indigo-600 hover:text-indigo-500",children:"개인정보 처리방침"}),"에 동의하는 것으로 간주됩니다."]})})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(n.default,{href:"/",className:"text-indigo-600 hover:text-indigo-500 text-sm font-medium",children:"← 홈으로 돌아가기"})})]})})}}},function(e){e.O(0,[605,448,971,117,744],function(){return e(e.s=4393)}),_N_E=e.O()}]);