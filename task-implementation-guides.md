# 🛠️ NAVI 작업별 상세 구현 가이드

이 문서는 각 작업을 한 번의 프롬프트로 완전히 구현할 수 있도록 상세한 구현 지침을 제공합니다.

---

## 🎵 Task 1: 고급 오디오 플레이어 구현

### 📋 프롬프트 예시
```
NAVI 프로젝트의 고급 오디오 플레이어를 구현해주세요.

**구현 범위:**
1. src/components/audio/AdvancedAudioPlayer.tsx - 메인 플레이어 컴포넌트
2. src/hooks/useAudioPlayer.ts - 오디오 상태 관리 훅
3. src/lib/audio-cache.ts - PWA 오디오 캐싱 서비스
4. src/app/guide/[location]/tour/components/TourContent.tsx 수정 - 새 플레이어 적용

**필수 기능:**
- 재생 속도 조절 (0.5x-2x)
- 진행 바 클릭으로 시점 이동
- 북마크 시스템 (localStorage 저장)
- 플레이리스트 (챕터 연속 재생)
- 키보드 단축키 (스페이스바, 화살표)
- 볼륨 조절 슬라이더
- 반복 재생 모드

**기술 요구사항:**
- TypeScript 엄격 모드
- 기존 TourContent와 완전 호환
- 모바일 터치 최적화
- 접근성 준수 (aria-labels)
- PWA 오프라인 캐싱 지원

**UI 스타일:**
- 현재 NAVI 디자인 시스템 유지
- Spotify/Apple Music 스타일 참고
- 다크/라이트 모드 지원
- 반응형 디자인

기존 파일을 읽고 구조를 파악한 후 완전한 구현을 제공해주세요.
```

---

## 📍 Task 2: 실시간 위치 추적 구현

### 📋 프롬프트 예시
```
NAVI 프로젝트에 실시간 위치 추적 및 GPS 통합을 구현해주세요.

**구현 범위:**
1. src/lib/location/gps-service.ts - GPS 추적 서비스
2. src/components/location/LiveLocationTracker.tsx - 실시간 위치 표시
3. src/app/guide/[location]/live/page.tsx - 라이브 가이드 페이지
4. src/lib/location/geofencing.ts - 지오펜싱 시스템
5. 기존 MapWithRoute.tsx 강화

**필수 기능:**
- 브라우저 Geolocation API 사용
- 실시간 위치 추적 (배터리 최적화)
- 지오펜싱 (관심지점 진입/이탈 감지)
- 위치 히스토리 저장 (localStorage)
- 위치 기반 자동 알림
- 오프라인 지도 캐싱

**기술 요구사항:**
- 권한 요청 UX 개선
- 위치 정확도 설정 가능
- 배터리 절약 모드
- 에러 처리 (위치 서비스 비활성화 등)
- PWA 백그라운드 동기화

**지도 통합:**
- 기존 MapWithRoute 컴포넌트 확장
- 실시간 사용자 위치 마커
- 방문 경로 시각화
- 다음 목적지 방향 표시

현재 지도 컴포넌트를 분석하고 완전한 GPS 통합을 구현해주세요.
```

---

## ⚙️ Task 3: 관리자 패널 구현

### 📋 프롬프트 예시
```
NAVI 프로젝트의 완전한 관리자 패널을 구현해주세요.

**구현 범위:**
1. src/app/admin/layout.tsx - 관리자 레이아웃
2. src/app/admin/page.tsx - 대시보드 메인
3. src/app/admin/dashboard/page.tsx - 실시간 통계
4. src/app/admin/content/page.tsx - 콘텐츠 관리
5. src/app/admin/users/page.tsx - 사용자 관리
6. src/app/admin/analytics/page.tsx - 분석 대시보드
7. src/components/admin/* - 관리자 전용 컴포넌트들
8. src/app/api/admin/* - 관리자 API 라우트들

**대시보드 기능:**
- 실시간 통계 (활성 사용자, 가이드 생성수)
- 시스템 상태 모니터링
- API 사용량 차트
- 수익 분석 (예상 비용)

**콘텐츠 관리:**
- 생성된 가이드 목록/검색/필터
- 가이드 승인/거부 시스템
- 부적절한 콘텐츠 플래그
- 번역 품질 관리

**사용자 관리:**
- 사용자 목록 (페이지네이션)
- 계정 활성화/비활성화
- 사용량 제한 설정
- 지원 티켓 관리

**기술 요구사항:**
- 관리자 권한 체크 (미들웨어)
- 실시간 데이터 (polling/SSE)
- 데이터 내보내기 (CSV/Excel)
- 검색/필터링/정렬
- 대량 작업 지원

현재 인증 시스템과 데이터베이스 구조를 분석하여 완전한 관리자 패널을 구현해주세요.
```

---

## 📊 Task 4: 고급 분석 시스템 구현

### 📋 프롬프트 예시
```
NAVI 프로젝트에 고급 분석 및 사용자 행동 추적 시스템을 구현해주세요.

**구현 범위:**
1. src/lib/analytics/event-tracker.ts - 이벤트 추적 엔진
2. src/lib/analytics/user-behavior.ts - 사용자 행동 분석
3. src/hooks/useAnalytics.ts - 분석 데이터 훅
4. src/components/analytics/AnalyticsDashboard.tsx - 분석 대시보드
5. src/app/api/analytics/* - 분석 API 엔드포인트들
6. 기존 컴포넌트에 이벤트 추적 추가

**추적 이벤트:**
- 페이지 방문 (페이지뷰, 세션 시간)
- 가이드 생성/재생/완주
- 오디오 상호작용 (재생시간, 건너뛰기)
- 검색 행동 (검색어, 결과 클릭)
- 버튼 클릭, 기능 사용
- 성격 진단 완료

**분석 대시보드:**
- 실시간 활성 사용자
- 일일/주간/월간 트렌드
- 사용자 여정 분석
- 코호트 분석 (리텐션)
- 퍼널 분석 (전환율)
- 히트맵 (클릭 분포)

**기술 요구사항:**
- 개인정보 보호 준수
- 로컬/서버 이중 저장
- 실시간 차트 (Chart.js/Recharts)
- 데이터 내보내기
- 성능 최적화 (배치 전송)

기존 컴포넌트들을 분석하여 자연스럽게 분석 기능을 통합해주세요.
```

---

## 🔔 Task 5: 푸시 알림 시스템 구현

### 📋 프롬프트 예시
```
NAVI 프로젝트에 푸시 알림 시스템을 구현해주세요.

**구현 범위:**
1. src/lib/notifications/push-service.ts - 푸시 알림 서비스
2. src/app/api/notifications/* - 알림 API 엔드포인트들
3. src/components/notifications/NotificationManager.tsx - 알림 관리
4. public/sw.js 수정 - 서비스 워커 알림 처리
5. src/hooks/useNotifications.ts - 알림 상태 훅

**알림 유형:**
- 위치 기반 (관심지점 근처 도달)
- 가이드 추천 (새 지역 방문)
- 투어 완료 (완주 축하)
- 개인화 알림 (성격 기반)
- 시스템 알림 (업데이트)
- 재참여 알림 (비활성 사용자)

**개인화 로직:**
- 성격 유형별 메시지 톤
- 사용 패턴 기반 최적 시간
- 지역별 문화 고려
- 알림 빈도 자동 조절

**기술 요구사항:**
- PWA 푸시 알림 (Service Worker)
- 브라우저 알림 권한 관리
- 알림 설정 UI (on/off, 유형별)
- 알림 히스토리 저장
- 배치 발송 시스템

**통합 요구사항:**
- 위치 서비스와 연동
- 성격 진단 결과 활용
- 사용자 설정 존중
- 다국어 메시지 지원

기존 PWA 설정과 위치 서비스를 분석하여 완전한 알림 시스템을 구현해주세요.
```

---

## 🤝 Task 6: 소셜 기능 구현

### 📋 프롬프트 예시
```
NAVI 프로젝트에 소셜 기능 (리뷰, 공유, 커뮤니티)을 구현해주세요.

**구현 범위:**
1. src/app/community/page.tsx - 커뮤니티 메인
2. src/components/social/ReviewSystem.tsx - 리뷰 시스템
3. src/components/social/ShareDialog.tsx - 공유 다이얼로그
4. src/lib/social/sharing-service.ts - 공유 서비스
5. src/app/api/social/* - 소셜 API 엔드포인트들
6. 기존 가이드 페이지에 소셜 기능 추가

**리뷰 시스템:**
- 별점 (1-5) + 텍스트 리뷰
- 사진 첨부 (선택적)
- 방문 날짜 기록
- 도움됨 투표
- 리뷰 신고 기능

**공유 기능:**
- SNS 공유 (Facebook, Twitter, KakaoTalk)
- 링크 복사
- QR 코드 생성
- 이메일 공유
- 임베드 코드

**커뮤니티:**
- 최근 리뷰 피드
- 인기 가이드 순위
- 사용자 프로필 (공개 리뷰)
- 팔로우 시스템 (선택적)

**기술 요구사항:**
- 소셜 메타데이터 (Open Graph)
- QR 코드 생성 라이브러리
- 이미지 업로드/압축
- 스팸 방지 시스템
- 콘텐츠 모더레이션

기존 가이드 구조를 분석하여 자연스럽게 소셜 기능을 통합해주세요.
```

---

## 🧪 Task 7: A/B 테스트 프레임워크 구현

### 📋 프롬프트 예시
```
NAVI 프로젝트에 A/B 테스트 프레임워크를 구현해주세요.

**구현 범위:**
1. src/lib/experiments/ab-test.ts - A/B 테스트 엔진
2. src/hooks/useExperiment.ts - 실험 훅
3. src/app/admin/experiments/page.tsx - 실험 관리 대시보드
4. src/components/experiments/ExperimentProvider.tsx - 실험 컨텍스트
5. src/app/api/experiments/* - 실험 API 엔드포인트들

**테스트 시나리오:**
- UI 변형 (버튼 색상, 레이아웃)
- 기능 테스트 (새 기능 ON/OFF)
- 개인화 알고리즘 비교
- 메시지/카피 테스트
- 추천 시스템 성능

**실험 관리:**
- 실험 생성/수정/중단
- 대상 세그먼트 설정
- 트래픽 분할 (50/50, 90/10 등)
- 실험 기간 설정
- 통계적 유의성 계산

**결과 분석:**
- 전환율 비교
- 신뢰도 구간
- p-value 계산
- 세그먼트별 결과
- 실시간 모니터링

**기술 요구사항:**
- 클라이언트 사이드 분할
- 세션 일관성 유지
- 실험 결과 추적
- 통계 계산 라이브러리
- 관리자 대시보드

기존 분석 시스템과 연동하여 완전한 A/B 테스트 프레임워크를 구현해주세요.
```

---

## 🔧 추가 최적화 작업

### 📋 성능 최적화 프롬프트
```
NAVI 프로젝트의 성능을 최적화해주세요.

**최적화 영역:**
1. 이미지 최적화 (Next.js Image 적용)
2. 코드 스플리팅 (동적 import)
3. 캐싱 전략 강화
4. Bundle 크기 최적화
5. 데이터베이스 쿼리 최적화
6. API 응답 시간 개선

**성능 목표:**
- Lighthouse 점수 90+ 달성
- First Contentful Paint < 1초
- Time to Interactive < 2초
- Bundle 크기 < 500KB

현재 성능 상태를 분석하고 체계적인 최적화를 적용해주세요.
```

### 📋 보안 강화 프롬프트
```
NAVI 프로젝트의 보안을 강화해주세요.

**보안 영역:**
1. CSRF 보호 강화
2. XSS 방지 (CSP 헤더)
3. API 율 제한 고도화
4. 입력 검증 강화
5. 민감 데이터 암호화
6. 보안 헤더 설정

현재 보안 상태를 점검하고 프로덕션급 보안을 구현해주세요.
```

---

## 💡 구현 팁

### 🎯 효과적인 프롬프트 작성법
1. **구체적인 파일 경로 제시**: 정확한 위치 지정
2. **기존 코드 분석 요청**: 호환성 보장
3. **완전한 기능 명세**: 놓칠 수 있는 세부사항 포함
4. **기술 제약사항 명시**: TypeScript, 성능, 접근성 등
5. **통합 요구사항 강조**: 기존 시스템과의 연동

### 🔧 품질 보장
1. **타입 안전성**: 모든 코드에 TypeScript 적용
2. **에러 처리**: 예외 상황 대응
3. **접근성**: WCAG 가이드라인 준수
4. **성능**: 불필요한 리렌더링 방지
5. **테스트**: 핵심 기능 단위 테스트

### 📱 모바일 최적화
1. **터치 친화적**: 충분한 터치 영역
2. **반응형 디자인**: 모든 화면 크기 대응
3. **성능 최적화**: 모바일 네트워크 고려
4. **PWA 호환**: 오프라인 기능 유지

이 가이드를 따라 구현하면 NAVI가 완전한 프로덕션급 플랫폼이 됩니다! 🚀